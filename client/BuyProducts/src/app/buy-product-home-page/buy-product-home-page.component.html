<div class="container-fluid">
  <div class="row">

    <!--Left side page-->
    <div class="split left">
      <br><br><br><br><br><br>
      <h3 class="row font-weight-bolder justify-content-center">Filters:
      </h3>
      <div class="row">
        <div class="col-sm-1 col-md-1 col-lg-1 col-xl-1 "></div>
        <div class="col-sm-10 col-md-10 col-lg-10 col-xl-10">
          <form>
            <div class="form-group">
              <input class="search form-control mb-2" name="search" type="text" placeholder="Search By Name" aria-label="Search"
                     size="80%" [(ngModel)]="searchPrdFromDb.name"  (input)="getProductsByIndividualFields(1)">
              <input class="search form-control mb-2" name="search" type="text" placeholder="Search By Category" aria-label="Search"
                     size="80%" [(ngModel)]="searchPrdFromDb.category"  (input)="getProductsByIndividualFields(1)">
              <input class="search form-control mb-2" name="search" type="text" placeholder="Search By Price" aria-label="Search"
                     size="80%" [(ngModel)]="searchPrdFromDb.price"  (input)="getProductsByIndividualFields(1)">
            </div>
          </form>
        </div>
      </div>
    </div>
    <!------------------------------------------------------------------------------------------------------------------------------------------------->

    <!--Right side page-->
    <div class="split right pb-sm-5 pb-md-5 pb-lg-5 pb-xl-5">
      <div class="container-fluid">

        <!-- Default search page. Searches all items related to Category, product Name and Cost -->
        <form class="row pt-lg-4">
          <div class="col-sm-2"></div>
          <div class=" form-group d-inline-flex"><i class="fa fa-search p-sm-2 p-md-2 p-lg-2 p-xl-2"  style="background-color: lightcyan"></i>
            <input class="form-control" name="search" type="search" placeholder="Search Here" aria-label="Search" size="70%" id="search"
                   [(ngModel)]="searchProducts"  (input)="getProductDetailsPaginationSearch(1)" style="background-color: lightcyan">
          </div>
        </form>


        <!--Displaying all the images-->
        <div class="row pt-lg-2">
          <div class="col-lg-12 col-xl-12 col-sm-12 col-md-12">
            <div class="card shadow bg-secondary" *ngIf="productData.length > 0">
              <div class="card-body pt-3 pb-0" ><pagination-controls (pageChange)="getProductDetailsPaginationSearch($event)"></pagination-controls></div>
            </div>

            <!--Displaying Product Images side by side-->
            <div class="row">
              <div class="col-lg-4 col-xl-4 col-sm-4 col-md-4 p-2" *ngFor="let product of productData
                    | paginate: { itemsPerPage: itemsPerPage, currentPage: pageNo, totalItems: total }" (click)="productDetails(product)"
                   data-toggle = "modal" data-target="#productDetails"  >
                <div class="card shadow" id="{{product.id}}">
                  <div class="card-body">
                    <img src="../../assets/{{product.category}}/{{product.name}}.jpg" height="250" width="278">
                  </div>
                  <div class="card-footer">
                    <div class="row " style="background-color: lightcyan">
                      <div class="col"></div>
                      <div class="col"><h3 >{{product.name}}</h3></div>
                      <div class="col"></div>
                    </div>

                    <div class="row no-gutters">
                      <div class="col-sm-2 col-md-2 col-lg-2 col-xl-2"></div>
                      <div class="col-sm-8 col-md-8 col-lg-8 col-xl-8 text-center font-weight-bold pt-2">Price: <i class="fa">&#xf156;</i> {{product.price}}</div>
                      <div class="col-sm-2 col-md-2 col-lg-2 col-xl-2"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card shadow bg-secondary" *ngIf="productData.length > 0">
              <div class="card-body pt-3 pb-0" ><pagination-controls (pageChange)="getProductDetailsPaginationSearch($event)"></pagination-controls></div>
            </div>

            <div *ngIf="productData.length == 0">searching item not found...</div>
          </div>
        </div><br><br>

        <!--Third Row-->
        <!--Displaying List of items selected by Customer-->
        <div class="row">
          <div class="col-lg-1 col-sm-1 col-md-1"></div>
          <div class="col-lg-9 col-sm-9 col-md-9" *ngIf="addTableFlag">
            <div><strong><h3 class="text-success"><u>Item details:</u></h3></strong></div>
            <table border="2 px" class="table table-active"  style="width: 100%;">
              <thead>
              <tr>
                <th >Id</th>
                <th>ProductName</th>
                <th>ItemCost</th>
                <th>Quantity</th>
                <th>NetCost</th>
                <th></th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let item of productTable">
                <td>{{item.id}}</td>
                <td>{{item.productName}}</td>
                <td>{{item.itemCost}}</td>
                <td>{{item.quantity}}</td>
                <td>{{item.netCost}}</td>
                <td><button (click)="removeDataFromTable(item)" type="button" class="btn btn-primary">Remove</button></td>
              </tr>
              <tr class="border-0">
                <td></td>
                <td></td>
                <td><strong><h4>Total cost:</h4></strong></td>
                <td><button type="button" class="btn btn-info">{{netTotal}}</button></td>
                <td></td>
                <td></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!--Fourth Row-->
        <!--SuccessPage buttons-->
        <div *ngIf="addTableFlag" class="row">
          <div class="col-sm-4"></div>
          <div class="col-sm-3">
            <button type="button" class="btn p-2 bg-success btn-outline-info text-white float-left"
                    data-toggle="modal" data-target="#alertModal" (click)="successPageNavigationMethod()">Proceed To Pay</button>
            <button type="button" class="btn p-2 bg-success btn-outline-info text-white float-right" (click)="cancelMethod()">Cancel</button>
          </div>
        </div>
      </div><br><br>
    </div>
  </div>
</div>



<!--Displaying selected product in a modal -->
<div class="modal " id="productDetails">
  <div class="modal-dialog modal-xl  modal-dialog-centered">
    <div class="modal-content ">
      <div class="modal-body">
        <button type="button" id="modalCloseId" class="close" data-dismiss="modal">&times;</button>
        <div class="row">
          <div class="col">
            <img src="../../assets/{{productCategory}}/{{productName}}.jpg" height="400" width="500">
          </div>
          <div class="col mt-5">
            <ul class="list-unstyled">
              <li><h2 class="font-weight-bolder">{{productName}}</h2></li>
              <li><h3><small class="fa pt-1">&#xf156; </small><b>{{productCost}}  </b>
                <small><s> <small class="fa pt-1">&#xf156; </small>{{productCost*1.5}}</s> <span class="text-success ml-4">33% Off</span>
                  <div>Limited Period Only</div></small></h3>
              </li>
              <li>Enter Quantity:
                <div class="btn-group">
                  <button type="button" class="btn btn-primary" (click)="addQuantity()">+</button>
                  <button type="button" class="btn btn-primary">{{quantity}}</button>
                  <button type="button" class="btn btn-primary" (click)="subQuantity()">-</button>
                </div>
              </li>
              <li class="mt-3">
                <input type="button" value="add into cart" [disabled]="quantity==0" (click)="addProduct()" class="btn btn-outline-info bg-success text-white"
                       data-dismiss="modal">
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
